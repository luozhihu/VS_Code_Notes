## 卫星互联网场景下区块链网络时延抖动降低的需求

从区块链技术来看，P2P中每一个节点都需要存有数量不少的相邻的个体，当一时间有很多节点加入或者离开网络时，网络会发生抖动，整个网络的性能会大幅恶化，将对拓扑结构、消息广播、共识机制、分布式账本、智能合约产生重要影响。比如，共识机制的目标是为了使得参与节点的信息一致，但在高度分散的系统达成共识本身就是一件耗时的任务，如果考虑会有节点作恶，这会更加增加处理的复杂性。因此如何快速将共识消息广播到所有节点，是区块链网络层的核心问题。

针对区块链性能不足导致的网络抖动问题，已经有一些初步的思路，主要包括：隔离验证、闪电网络、RSK侧链、分片、分层等手段。这些方式主要是通过将部分链上任务转到链下或其他链进行处理，或者将整个交易分为几个部分并分别处理。我们可以依托 BBR(Bottleneck Bandwidth and RTT)技术提升 TCP 的吞吐量，降低网络传输时延；依托网络的防拥塞丢包技术(iLossless)解决网络或设备自身拥塞导致丢包，可快速缓解网络拥塞，消除网络丢包，可有效解决当前区块链网络上对时延和性能的要求；依托确定性SLA组播数据分发和数据压缩等技术，从各个维度优化区块链网络的性能，如确定性SLA是优化P2P网络的时延和抖动，同时也有效避免端到端的网络连接的拥塞，从而保证区块链的P2P网络的高质量的SLA并获得更高的性能。而组播分发和数据压缩可以一定程度减轻链路上带宽压力，充分利用网络的能力，并最高效的利用网络带宽。

## 区块链网络端到端确定性传输问题

确定性网络的核心技术标准虽然已经基本上完成，但是端到端层面的确定性网络保障还需进一步增强。‍‍这里包含两个方面：
- 一方面，需要基于标准化组织和业界已有方案，进一步增强来克服网络转发时延的“长尾效应”。传统网络的特点是时延抖动无上界，确定性网络把时延和抖动规定到一个预期的范围之内，进一步保障业务完成度。

- 另一方面，需要克服端到端时延不可控等问题，加强技术组合和域间协同，目前业界尚缺乏成熟方案

下面是我们解决上述问题用到的技术，
- 网络层基于自适应微突发抑制的确定性技术。微突发（Microbrust）是指端口在非常短的时间（毫秒级别）内收到非常多的突发数据，典型的微突发的持续时 间通常在1～100毫秒之间，以至于瞬时突发速率达到平均速率的数十倍、数百倍，甚至超过端口带宽。
- 传输层基于QUIC的确定性方案。面向非严格确定性要求的功能，基于端侧的确定性调度技术，在网络拥塞的情况下确保关键业务流量按时到达率。