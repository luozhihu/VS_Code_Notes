![[Pasted image 20250906161049.png]]

> DNS

域名解析协议，通过DNS服务器将域名解析成IP地址

> NAT

![[Pasted image 20250906164504.png]]

图中有两个客户端 192.168.1.10 和 192.168.1.11 同时与服务器183.232.231.172 进行通信，并且这两个客户端的本地端口都是 1025。
此时，**两个私有 IP 地址都转换 IP 地址为公有地址 120.229.175.121，但是以不同的端口号作为区分。**

> ARP

NAT技术将公网IP转化为子网IP，然后ARP协议将子网IP转化为MAC地址
在一个子网中通过下一跳ip通过广播的方式得到MAC地址

> 有ip地址为什么还要MAC地址

在网络层，路由是靠ip地址来确定的，而在数据链路层是靠MAC地址来确定的。

> ICMP

ICMP是封装在IP协议里的
**确认 IP 包是否成功送达目标地址、报告发送过程中 IP 包被废弃的原因和改善网络设置等。**

- 网络不可达代码为 `0`
- 主机不可达代码为 `1`
- 协议不可达代码为 `2`
- 端口不可达代码为 `3`
- 需要进行分片但设置了不分片位代码为 `4`